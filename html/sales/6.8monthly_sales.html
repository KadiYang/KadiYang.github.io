<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Monthly Sales Summary</title>
</head>

<body>
<nav class="navbar">
  <ul class="nav-list">

    <li class="nav-item">
      <a href="#" id="nav-back" class="nav-link">‚Üê Back</a>
    </li>

    <li class="nav-item">
      <a href="../../index.html" class="nav-link">Home</a>
    </li>

    <li class="nav-item">
      <a href="../products/6.1products.html" class="nav-link">All Products</a>
    </li>

    <li class="nav-item">
      <a href="../stores/6.4.html" class="nav-link">All Stores</a>
    </li>

  </ul>
</nav>

<script>
  document.getElementById("nav-back").addEventListener("click", e => {
    e.preventDefault();
    window.history.back();
  });
</script>

  <h1>Store Monthly Sales Summary</h1>

  <h3>Store ID:
    <span id="store-id"></span>
  </h3>

  <table id="salesTable" class="table">
    <thead>
      <tr>
        <th>month</th>
        <th>product_id</th>
        <th>product_name</th>
        <th>units_sold</th>
      </tr>
    </thead>
    <tbody id="table-body">
      <!-- JS will inject here -->
    </tbody>
  </table>

  <script src="../../assets/js/sales_javascript/6.8monthly_sales.js"></script>

  <script>
    const params = new URLSearchParams(window.location.search);
    const storeId = params.get("store_id");
    const storeIdLabel = document.getElementById("store-id");

    if (storeIdLabel) {
      storeIdLabel.textContent = storeId || "";
    }

    if (storeId) {
      loadMonthlySales(storeId);
    } else {
      console.error("Missing store_id query parameter.");
    }

    const backButton = document.getElementById("goBack");

    if (backButton) {
      backButton.addEventListener("click", () => {
        if (storeId) {
          window.location.href = `../stores/6.5store_id.html?id=${storeId}`;
        } else {
          window.history.back();
        }
      });
    }
  </script>

</body>
</html>
